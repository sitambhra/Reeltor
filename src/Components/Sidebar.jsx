import React from 'react';
import { Link } from 'react-router-dom';
import useTheme from '../contexts/theme';

/**
 * Sidebar Component
 *
 * This component renders a sidebar with navigation links.
 * The active section is highlighted, and clicking a link updates the active section.
 *
 * Props:
 * - activeSection (string): Currently active section.
 * - setActiveSection (function): Function to update active section.
 */
const Sidebar = ({ activeSection, setActiveSection }) => {
  // Define menu items with unique IDs, icons, and labels

  const { theme, darkTheme, lightTheme } = useTheme();
  const toggleTheme = () => {
    theme === 'dark' ? lightTheme() : darkTheme();
  };

  const menuItems = [
    {
      id: 'home',
      icon: () => (
        <svg
          width='24'
          height='24'
          viewBox='0 0 15 16'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <g clipPath='url(#clip0_1_366)'>
            <path
              d='M7.34998 1.97498C10.7328 1.97498 13.475 4.71714 13.475 8.09998C13.475 11.4828 10.7328 14.225 7.34998 14.225C3.96714 14.225 1.22498 11.4828 1.22498 8.09998C1.22498 4.71714 3.96714 1.97498 7.34998 1.97498ZM7.34998 3.81248C4.98205 3.81248 3.06248 5.73205 3.06248 8.09998C3.06248 9.23433 3.50348 10.2664 4.22255 11.0332L4.3181 11.1312L5.18418 10.2658C4.63048 9.71085 4.28748 8.94523 4.28748 8.09998C4.28748 6.40886 5.65886 5.03748 7.34998 5.03748C7.62438 5.03748 7.8902 5.07361 8.14316 5.1416L9.1005 4.18488C8.56579 3.946 7.9735 3.81248 7.34998 3.81248ZM11.2651 6.35006L10.309 7.30679C10.3763 7.55975 10.4125 7.82558 10.4125 8.09998C10.4125 8.94523 10.0695 9.71085 9.51578 10.2658L10.3819 11.1319C11.1573 10.3558 11.6375 9.28394 11.6375 8.09998C11.6375 7.47645 11.5046 6.88416 11.2651 6.35006ZM9.9482 4.63506L7.66664 6.91601C7.56558 6.88906 7.45961 6.87498 7.34998 6.87498C6.67316 6.87498 6.12498 7.42316 6.12498 8.09998C6.12498 8.77679 6.67316 9.32498 7.34998 9.32498C8.02679 9.32498 8.57498 8.77679 8.57498 8.09998C8.57498 7.99034 8.56089 7.88438 8.53394 7.78331L10.8149 5.50114L9.94881 4.63506H9.9482Z'
              fill='#7942FB'
            />
          </g>
          <defs>
            <clipPath id='clip0_1_366'>
              <rect
                width='14.7'
                height='14.7'
                fill='white'
                transform='translate(0 0.75)'
              />
            </clipPath>
          </defs>
        </svg>
      ),
      label: 'Home',
    },
    {
      id: 'discover',
      icon: () => (
        <svg
          width='24'
          height='24'
          viewBox='0 0 16 15'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <g clipPath='url(#clip0_1_29)'>
            <path
              d='M12.3625 13.1375H3.78746C3.62502 13.1375 3.46923 13.073 3.35436 12.9581C3.23949 12.8433 3.17496 12.6875 3.17496 12.525V7.01252H1.33746L7.66275 1.26237C7.77552 1.15977 7.9225 1.10291 8.07496 1.10291C8.22743 1.10291 8.37441 1.15977 8.48718 1.26237L14.8125 7.01252H12.975V12.525C12.975 12.6875 12.9104 12.8433 12.7956 12.9581C12.6807 13.073 12.5249 13.1375 12.3625 13.1375ZM4.39996 11.9125H11.75V5.88369L8.07496 2.54311L4.39996 5.88369V11.9125ZM8.07496 9.46252C7.66885 9.46252 7.27937 9.3012 6.99221 9.01403C6.70504 8.72687 6.54371 8.33739 6.54371 7.93127C6.54371 7.52516 6.70504 7.13568 6.99221 6.84852C7.27937 6.56135 7.66885 6.40002 8.07496 6.40002C8.48108 6.40002 8.87056 6.56135 9.15772 6.84852C9.44489 7.13568 9.60621 7.52516 9.60621 7.93127C9.60621 8.33739 9.44489 8.72687 9.15772 9.01403C8.87056 9.3012 8.48108 9.46252 8.07496 9.46252Z'
              fill='#959595'
            />
          </g>
          <defs>
            <clipPath id='clip0_1_29'>
              <rect
                width='14.7'
                height='14.7'
                fill='white'
                transform='translate(0.724976 0.275024)'
              />
            </clipPath>
          </defs>
        </svg>
      ),
      label: 'Discover',
    },
    {
      id: 'clock',
      icon: () => (
        <svg
          width='24'
          height='24'
          viewBox='0 0 16 16'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <g clipPath='url(#clip0_1_26)'>
            <path
              d='M8.07501 13.8501C4.69217 13.8501 1.95001 11.1079 1.95001 7.7251C1.95001 4.98232 3.7526 2.66095 6.23751 1.88062V3.18157C5.18458 3.60913 4.31291 4.38924 3.77162 5.38848C3.23033 6.38772 3.05305 7.54399 3.27011 8.65949C3.48716 9.775 4.08506 10.7804 4.96153 11.5038C5.838 12.2272 6.93858 12.6235 8.07501 12.6251C9.0512 12.6251 10.0052 12.3336 10.8146 11.788C11.6241 11.2423 12.2522 10.4675 12.6185 9.5626H13.9195C13.1392 12.0475 10.8178 13.8501 8.07501 13.8501ZM14.1694 8.3376H7.46251V1.63072C7.66402 1.61051 7.8686 1.6001 8.07501 1.6001C11.4578 1.6001 14.2 4.34226 14.2 7.7251C14.2 7.93151 14.1896 8.13609 14.1694 8.3376ZM8.68751 2.86307V7.1126H12.937C12.8007 6.03313 12.3091 5.02969 11.5398 4.26033C10.7704 3.49097 9.76698 2.99941 8.68751 2.86307Z'
              fill='#959595'
            />
          </g>
          <defs>
            <clipPath id='clip0_1_26'>
              <rect
                width='14.7'
                height='14.7'
                fill='white'
                transform='translate(0.724976 0.375)'
              />
            </clipPath>
          </defs>
        </svg>
      ),
      label: 'History',
    },
    {
      id: 'wallet',
      icon: () => (
        <svg
          width='24'
          height='24'
          viewBox='0 0 16 16'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <g clipPath='url(#clip0_1_23)'>
            <path
              d='M5.01251 3.5374V1.6999C5.01251 1.53746 5.07704 1.38167 5.19191 1.2668C5.30678 1.15193 5.46257 1.0874 5.62501 1.0874H10.525C10.6875 1.0874 10.8432 1.15193 10.9581 1.2668C11.073 1.38167 11.1375 1.53746 11.1375 1.6999V3.5374H13.5875C13.75 3.5374 13.9057 3.60193 14.0206 3.7168C14.1355 3.83167 14.2 3.98746 14.2 4.1499V12.7249C14.2 12.8873 14.1355 13.0431 14.0206 13.158C13.9057 13.2729 13.75 13.3374 13.5875 13.3374H2.56251C2.40007 13.3374 2.24428 13.2729 2.12941 13.158C2.01454 13.0431 1.95001 12.8873 1.95001 12.7249V4.1499C1.95001 3.98746 2.01454 3.83167 2.12941 3.7168C2.24428 3.60193 2.40007 3.5374 2.56251 3.5374H5.01251ZM6.23751 8.4374H3.17501V12.1124H12.975V8.4374H9.91251V10.2749H6.23751V8.4374ZM12.975 4.7624H3.17501V7.2124H6.23751V5.9874H9.91251V7.2124H12.975V4.7624ZM7.46251 7.2124V9.0499H8.68751V7.2124H7.46251ZM6.23751 2.3124V3.5374H9.91251V2.3124H6.23751Z'
              fill='#959595'
            />
          </g>
          <defs>
            <clipPath id='clip0_1_23'>
              <rect
                width='14.7'
                height='14.7'
                fill='white'
                transform='translate(0.724976 0.474976)'
              />
            </clipPath>
          </defs>
        </svg>
      ),
      label: 'Wallet',
    },
    {
      id: 'calendar',
      icon: () => (
        <svg
          width='24'
          height='24'
          viewBox='0 0 16 16'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <g clipPath='url(#clip0_1_20)'>
            <path
              d='M6.23751 1.1875V2.4125H9.91251V1.1875H11.1375V2.4125H13.5875C13.75 2.4125 13.9057 2.47703 14.0206 2.5919C14.1355 2.70676 14.2 2.86255 14.2 3.025V12.825C14.2 12.9874 14.1355 13.1432 14.0206 13.2581C13.9057 13.373 13.75 13.4375 13.5875 13.4375H2.56251C2.40007 13.4375 2.24428 13.373 2.12941 13.2581C2.01454 13.1432 1.95001 12.9874 1.95001 12.825V3.025C1.95001 2.86255 2.01454 2.70676 2.12941 2.5919C2.24428 2.47703 2.40007 2.4125 2.56251 2.4125H5.01251V1.1875H6.23751ZM12.975 5.475H3.17501V12.2125H12.975V5.475ZM9.93456 6.7833L10.8006 7.64938L7.76876 10.6813L5.60296 8.51545L6.47026 7.64938L7.76937 8.9491L9.93517 6.7833H9.93456Z'
              fill='#959595'
            />
          </g>
          <defs>
            <clipPath id='clip0_1_20'>
              <rect
                width='14.7'
                height='14.7'
                fill='white'
                transform='translate(0.724976 0.574951)'
              />
            </clipPath>
          </defs>
        </svg>
      ),
      label: 'Calendar',
    },
    {
      id: 'settings',
      icon: () => (
        <svg
          width='24'
          height='24'
          viewBox='0 0 16 16'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <g clipPath='url(#clip0_1_17)'>
            <path
              d='M2.77084 11.0875C2.51192 10.6398 2.31065 10.1611 2.17181 9.66284C2.47396 9.50916 2.72772 9.2749 2.90499 8.98596C3.08227 8.69702 3.17617 8.36468 3.1763 8.02569C3.17642 7.68671 3.08278 7.35429 2.90571 7.06523C2.72865 6.77616 2.47507 6.5417 2.17304 6.3878C2.44991 5.38666 2.97709 4.47248 3.7049 3.73139C3.98916 3.91619 4.31901 4.01875 4.65794 4.0277C4.99687 4.03666 5.33167 3.95166 5.62529 3.78212C5.91891 3.61258 6.1599 3.36511 6.32158 3.0671C6.48326 2.76908 6.55934 2.43214 6.54139 2.09356C7.54718 1.83363 8.60259 1.83405 9.60818 2.09479C9.59038 2.43336 9.66661 2.77025 9.82842 3.06818C9.99023 3.36611 10.2313 3.61347 10.525 3.78288C10.8187 3.95228 11.1535 4.03714 11.4924 4.02805C11.8313 4.01897 12.1611 3.91629 12.4453 3.73139C12.7999 4.09276 13.1147 4.50375 13.3793 4.96251C13.6446 5.42128 13.843 5.89964 13.9784 6.38719C13.6762 6.54087 13.4225 6.77513 13.2452 7.06406C13.0679 7.353 12.974 7.68535 12.9739 8.02433C12.9738 8.36332 13.0674 8.69573 13.2445 8.9848C13.4215 9.27387 13.6751 9.50832 13.9771 9.66223C13.7003 10.6634 13.1731 11.5775 12.4453 12.3186C12.161 12.1338 11.8312 12.0313 11.4922 12.0223C11.1533 12.0134 10.8185 12.0984 10.5249 12.2679C10.2313 12.4374 9.99028 12.6849 9.8286 12.9829C9.66691 13.2809 9.59084 13.6179 9.60879 13.9565C8.603 14.2164 7.54759 14.216 6.542 13.9552C6.55979 13.6167 6.48357 13.2798 6.32176 12.9818C6.15995 12.6839 5.91887 12.4366 5.62519 12.2672C5.33152 12.0977 4.9967 12.0129 4.65778 12.022C4.31887 12.0311 3.98908 12.1337 3.7049 12.3186C3.34291 11.9493 3.02907 11.5356 2.77084 11.0875ZM6.23759 11.2076C6.89029 11.584 7.38103 12.1882 7.61571 12.9042C7.92135 12.933 8.22821 12.9336 8.53385 12.9048C8.76868 12.1887 9.25966 11.5845 9.91259 11.2082C10.565 10.8307 11.3339 10.7074 12.0717 10.8621C12.2493 10.6122 12.4024 10.3458 12.5298 10.0671C12.0272 9.5057 11.7495 8.77852 11.7501 8.02501C11.7501 7.25326 12.038 6.53235 12.5298 5.98294C12.4015 5.70434 12.2477 5.4382 12.0704 5.18791C11.3331 5.34245 10.5648 5.21944 9.91259 4.84246C9.25989 4.466 8.76915 3.86184 8.53446 3.14584C8.22883 3.11705 7.92196 3.11644 7.61633 3.14523C7.38149 3.86133 6.89052 4.46551 6.23759 4.84185C5.58514 5.21934 4.81627 5.34258 4.07853 5.18791C3.90125 5.43799 3.74786 5.70417 3.62038 5.98294C4.12298 6.54433 4.40063 7.27151 4.40009 8.02501C4.40009 8.79676 4.11221 9.51767 3.62038 10.0671C3.74868 10.3457 3.90246 10.6118 4.07975 10.8621C4.81703 10.7076 5.5854 10.8306 6.23759 11.2076ZM8.07509 9.86251C7.58775 9.86251 7.12038 9.66892 6.77578 9.32432C6.43118 8.97972 6.23759 8.51235 6.23759 8.02501C6.23759 7.53768 6.43118 7.0703 6.77578 6.7257C7.12038 6.38111 7.58775 6.18751 8.07509 6.18751C8.56242 6.18751 9.0298 6.38111 9.3744 6.7257C9.719 7.0703 9.91259 7.53768 9.91259 8.02501C9.91259 8.51235 9.719 8.97972 9.3744 9.32432C9.0298 9.66892 8.56242 9.86251 8.07509 9.86251ZM8.07509 8.63751C8.23753 8.63751 8.39332 8.57298 8.50819 8.45812C8.62306 8.34325 8.68759 8.18746 8.68759 8.02501C8.68759 7.86257 8.62306 7.70678 8.50819 7.59191C8.39332 7.47704 8.23753 7.41251 8.07509 7.41251C7.91264 7.41251 7.75685 7.47704 7.64199 7.59191C7.52712 7.70678 7.46259 7.86257 7.46259 8.02501C7.46259 8.18746 7.52712 8.34325 7.64199 8.45812C7.75685 8.57298 7.91264 8.63751 8.07509 8.63751Z'
              fill='#959595'
            />
          </g>
          <defs>
            <clipPath id='clip0_1_17'>
              <rect
                width='14.7'
                height='14.7'
                fill='white'
                transform='translate(0.724976 0.675049)'
              />
            </clipPath>
          </defs>
        </svg>
      ),
      label: 'Settings',
    },
  ];

  return (
    <div className={`fixed top-0 bg-[#19191a] left-0 `}>
      <div
        className={`w-20 h-screen absolute top-0  flex flex-col items-center py-3 ${
          theme === 'light' ? 'border-r border-gray-200' : 'bg-[#19191a]'
        }`}
      >
        <div className='mb-8'>
          <svg
            width='28'
            height='28'
            viewBox='0 0 21 20'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'
          >
            <path
              d='M9.62338 19.0563C9.85913 19.4647 10.4485 19.4647 10.6843 19.0563L12.6635 15.6282C12.8993 15.2198 12.6046 14.7094 12.1331 14.7094H8.17456C7.70306 14.7094 7.40837 15.2198 7.64412 15.6282L9.62338 19.0563Z'
              fill='#7942FB'
            />{' '}
            <path
              d='M9.62338 1.29375C9.85913 0.885416 10.4485 0.885417 10.6843 1.29375L12.6635 4.72192C12.8993 5.13026 12.6046 5.64067 12.1331 5.64067H8.17456C7.70306 5.64067 7.40837 5.13026 7.64412 4.72192L9.62338 1.29375Z'
              fill='#7942FB'
            />
            <path
              d='M19.1813 10.8517C19.5896 10.6159 19.5896 10.0265 19.1813 9.79078L15.7531 7.81152C15.3448 7.57577 14.8344 7.87046 14.8344 8.34196L14.8344 12.3005C14.8344 12.772 15.3448 13.0667 15.7531 12.8309L19.1813 10.8517Z'
              fill='#7942FB'
            />
            <path
              d='M1.41887 10.8517C1.01054 10.6159 1.01054 10.0265 1.41887 9.79078L4.84704 7.81152C5.25538 7.57577 5.76579 7.87046 5.76579 8.34196L5.76579 12.3005C5.76579 12.772 5.25538 13.0667 4.84704 12.8309L1.41887 10.8517Z'
              fill='#7942FB'
            />
            <circle cx='10.3002' cy='10.175' r='2.7791' fill='#ED5B75' />
          </svg>
        </div>

        {/*Looping through each item */}
        {menuItems.map((item) => (
          <Link
            to={`/${item.id}`}
            key={item.id}
            onClick={() => setActiveSection(item.id)}
            className={`w-12 h-12 mb-4 rounded-xl flex items-center justify-center text-xl
${
  activeSection === item.id
    ? 'bg-purple-100 text-purple-600'
    : 'text-gray-400 hover:bg-gray-100'
}`}
          >
            <span>
              {item.icon()} {/* Render icon */}
            </span>
          </Link>
        ))}
        <button className='w-12 h-12 mt-auto rounded-xl flex items-center justify-center text-xl  hover:bg-gray-100'>
          <span>
            <svg
              width='24'
              height='24'
              viewBox='0 0 16 15'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
            >
              <g clipPath='url(#clip0_1_14)'>
                <path
                  d='M4.78724 2.50669L5.48978 3.51058C4.63606 4.10824 3.99513 4.96251 3.66008 5.94931C3.32503 6.9361 3.31332 8.00402 3.62665 8.99793C3.93997 9.99183 4.56202 10.86 5.40242 11.4762C6.24282 12.0924 7.2578 12.4247 8.29993 12.4247C9.34205 12.4247 10.357 12.0924 11.1974 11.4762C12.0378 10.86 12.6599 9.99183 12.9732 8.99793C13.2865 8.00402 13.2748 6.9361 12.9398 5.94931C12.6047 4.96251 11.9638 4.10824 11.1101 3.51058L11.8126 2.50669C12.6199 3.07106 13.2789 3.82201 13.7337 4.69568C14.1885 5.56936 14.4256 6.53994 14.4249 7.5249C14.4249 10.9077 11.6828 13.6499 8.29993 13.6499C4.91709 13.6499 2.17493 10.9077 2.17493 7.5249C2.17422 6.53994 2.41135 5.56936 2.86615 4.69568C3.32096 3.82201 3.98 3.07106 4.78724 2.50669ZM7.68743 7.5249V1.3999H8.91243V7.5249H7.68743Z'
                  fill='#7942FB'
                />
              </g>
              <defs>
                <clipPath id='clip0_1_14'>
                  <rect
                    width='14.7'
                    height='14.7'
                    fill='white'
                    transform='translate(0.950012 0.175049)'
                  />
                </clipPath>
              </defs>
            </svg>
          </span>
        </button>
      </div>
    </div>
  );
};

export default Sidebar;
